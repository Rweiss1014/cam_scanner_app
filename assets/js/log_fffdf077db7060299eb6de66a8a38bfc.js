(function(){function r(b){if(!s){t=b.app_id||"";u=b.app_version||"";v=b.user_id||"";w=b.client_id||"";k=b.product_name||"";var a;if(!(a=b.from)){var d,c;a="";var l,f;c=location.href;c=c.replace(/#.+$/,"");d=c.indexOf("?");-1<d&&(c=c.substring(d,c.length));if("?"===c.substr(0,1)&&1<c.length){d=c.substring(1,c.length);l=d.split("&");d=0;for(c=l.length;d<c;d++)if(f=l[d].split("="),"from"===f[0]&&2===f.length){a=f[1];break}}a=a||""}x=a;m=b.env||"DEV";y=b.lc||"zh-cn";(g=b.get_page_id||"")&&(e=g());n="ONLINE"===
m||"PRE"===m?"https://logio.intsig.net/logapi/cc.gif":"https://logio-sandbox.intsig.net/logapi/cc.gif";$(document).bind("click",function(a){(a=$(a.target).closest("[data-stat-key]").attr("data-stat-key"))&&z("click_"+a)});b="beforeunload";if(/iphone|ipad|ios/i.test(navigator.userAgent)&&(window.onpagehide||null===window.onpagehide))b="pagehide";$(window).bind(b,function(){p("residence_time",{time:+new Date-B})});s=!0}}function h(b){window.console&&window.console.log&&window.console.log(b)}function q(b){if(n&&
k&&b&&"object"===typeof b){var a=n,d={appid:t,ui:v,pn:k,pv:u,ci:w,rf:x,lc:y,ul:location.href,sr:window.outerWidth+"*"+window.outerHeight,vp:window.innerWidth+"*"+window.innerHeight,t:+new Date},c;for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);b=!0;c="";for(var e in d)d.hasOwnProperty(e)&&(b?(c+="?",b=!1):c+="&",c+=encodeURIComponent(e)+"="+encodeURIComponent(d[e]));a+=c;if(navigator.sendBeacon&&!/ios|iphone|ipad/i.test(navigator.userAgent))try{navigator.sendBeacon(a)||((new Image).src=a)}catch(f){(new Image).src=
a}else(new Image).src=a}}function A(b,a){e=b||g&&g()||"/";q({d:a?JSON.stringify(a):"",pi:e})}function z(b,a,d){b?!e&&!d?h("page_id not set"):q({d:a?JSON.stringify(a):"",pi:d||e,ai:b}):h("action_id not set")}function p(b,a){b?e?q({d:a?JSON.stringify(a):"",pi:e,ti:b}):h("page_id not set"):h("trace_id not set")}var t="",u="",y="",v="",e="",g="",w="",k="",m="DEV",n,x,B=+new Date,s=!1,i=document.getElementById("page_config");if(i)try{var i=JSON.parse(i.textContent),j=i.LOG_CONFIG;j&&(j.get_page_id=function(){return location.pathname.substr(1).split("/").join("_")},
r(j),j.auto_page&&A())}catch(C){}window.Log={page:A,action:z,trace:p,tracePerformance:function(b){window.performance&&performance.timing&&setTimeout(function(){var a=performance.timing;p(b||"performance_timing",{readyStart:a.fetchStart-a.navigationStart,redirectTime:a.redirectEnd-a.redirectStart,unloadEventTime:a.unloadEventEnd-a.unloadEventStart,lookupDomainTime:a.domainLookupEnd-a.domainLookupStart,connectTime:a.connectEnd-a.connectStart,requestTime:a.responseEnd-a.requestStart,initDomTreeTime:a.domInteractive-
a.responseEnd,domReadyTime:a.domComplete-a.domInteractive,loadTime:a.loadEventEnd-a.navigationStart})},0)},config:r}})();
